#:kivy 2.1.0

<ScreenOperateAuto>:
    MDBoxLayout:
        orientation: "vertical"

		# header layout
        MDBoxLayout:
            id: header_layout
            orientation: "horizontal"
            padding: 20
			size_hint_y: 0.1
                    
            Image:
                id: logo
                source:'asset/logo_rafindo.png'
                size_hint_x: 0.25
                allow_stretch: True 

			MDLabel:
				id: subtitle            
				text: "PIPE BENDING CNC MACHINE"
				halign: "center"
				valign: "middle"
				font_style: 'H5'
				color: 0, 0, 0
                  
            Image:
                id: logo
                source:'asset/logo_polman.png'
                size_hint_x: 0.25
                allow_stretch: True  

		# title layout
		MDBoxLayout:
			id: layout_title
			orientation: "horizontal"
			size_hint_y: 0.05

			MDIconButton:
				id: bt_shutdown
				icon: "menu"
				size_hint_x: 0.2
				on_press: root.screen_main_menu()

			MDLabel:
				text: "OPERATE AUTO"
				halign: "center"
				valign: "middle"
				font_style: 'H6'

			MDIconButton:
				id: bt_shutdown
				icon: "power"
				size_hint_x: 0.2
				on_press: root.exec_shutdown()

		# auto operate layout
		MDBoxLayout:
			id: layout_operate_auto
			orientation: "vertical"
			size_hint_y: 0.80
			padding:20
			spacing:20

			# illustration pipe
			MDBoxLayout:
				id: pipe_bended_illustration
				size_hint_y: 0.6

			MDGridLayout:
				cols:3
				spacing:20
				size_hint_y: 0.4
				row_default_height: 40
				row_force_default: True

				MDLabel:
					text: "Select Compiled File (G-code)"
					font_style: 'Body1'

				MDTextField:
					id: input_file_dir
					hint_text: "Input File Directory"
					font_style: 'Body1'
					input_filter: 'float'
					on_text_validate: root.update()	

				MDRoundFlatIconButton:
					text: "Open File"
					icon: "folder"
					on_release: root.file_manager_open()			

		# MDRectangleFlatIconButton: navigation operation
		MDBoxLayout:
			orientation: "horizontal"
			size_hint_y: 0.05
			padding:20
			spacing:20

			MDFillRoundFlatIconButton:
				id: bt_screen_manual
				icon: "hand"
				text: "MANUAL OPERATION"
				font_style: 'Button'
				size_hint_x: 0.5
				on_press: root.screen_operate_manual()
			
			MDFillRoundFlatIconButton:
				id: bt_screen_auto
				icon: "play"
				text: "AUTOMATIC OPERATION"
				font_style: 'Button'
				size_hint_x: 0.5
				on_press: root.screen_operate_auto()	
