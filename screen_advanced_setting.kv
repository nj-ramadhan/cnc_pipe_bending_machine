#:kivy 2.1.0

<ScreenAdvancedSetting>:
    BoxLayout:
        orientation: "vertical"
		# header layout
        BoxLayout:
            id: header_layout
            orientation: "horizontal"
            padding: 20
			size_hint_y: 0.1

			MDFillRoundFlatIconButton:
				id: bt_shutdown
				icon: "power"
				text: " "
				font_size: 64
				size_hint_x: 0.15
				on_press: root.exec_shutdown()

            BoxLayout:
                orientation: "vertical"
                padding: 0, 15

                Label:
                    id: subtitle            
                    text: "Pipe Bending CNC Machine"
                    bold: True
                    font_size: 64
                    color: 0, 0, 0
                    
            Image:
                id: logo
                source:'asset/logo_rafindo.png'
                size_hint_x: 0.125
                allow_stretch: True                   

            Image:
                id: logo
                source:'asset/logo_polman.png'
                size_hint_x: 0.125
                allow_stretch: True                  
		
		# setting layout
		BoxLayout:
			id: layout_advanced_setting
			orientation: "vertical"
			size_hint_y: 0.5
			padding:10
			spacing:10

			Label:
				text: "ADVANCED SETTING"
				bold: True
				font_size: 32
				color: 0, 0, 0
				size_hint_y: 0.1

			BoxLayout:
				orientation: "horizontal"
				canvas.before:
					Color:
						rgba: 0.5, 0, 0, 1
					Line:
						width: 2
						rectangle: self.x, self.y, self.width, self.height

				GridLayout:
					cols:2
					row_force_default: True
					row_default_height: 45
					padding:40
					spacing:40
					size_hint_x: 0.4

					Label:
						text: "Pipe Head Pos"
						bold: True
						font_size: 22
						color: 0, 0, 0

					MDTextField:
						id: input_pipe_length
						hint_text: "Input Pipe Head Pos (mm)"
						bold: True
						font_size: 22
						input_filter: 'float'
						on_text_validate: root.update()

					Label:
						text: "Start Mode"
						bold: True
						font_size: 22
						color: 0, 0, 0

					MDTextField:
						id: input_pipe_diameter
						hint_text: "Input Start Mode"
						bold: True
						font_size: 22
						input_filter: 'float'
						on_text_validate: root.update()

					Label:
						text: "Calculate First Line Segment"
						bold: True
						font_size: 22
						color: 0, 0, 0

					BoxLayout:
						orientation: "horizontal"
						canvas.before:
							Color:
								rgba: 0.5, 0, 0, 1
							Line:
								width: 2
								rectangle: self.x, self.y, self.width, self.height

					Label:
						text: "When Job Has Finished"
						bold: True
						font_size: 22
						color: 0, 0, 0						

					BoxLayout:
						orientation: "horizontal"
						canvas.before:
							Color:
								rgba: 0.5, 0, 0, 1
							Line:
								width: 2
								rectangle: self.x, self.y, self.width, self.height				

					Label:
						text: "Pipe Receive Pos (X-axis)"
						bold: True
						font_size: 22
						color: 0, 0, 0						

					MDTextField:
						id: input_receive_pos_x
						hint_text: "Input Pipe Receive Pos X-axis (mm)"
						bold: True
						font_size: 22
						input_filter: 'float'
						on_text_validate: root.update()							

					Label:
						text: "Pipe Receive Pos (B-axis)"
						bold: True
						font_size: 22
						color: 0, 0, 0						

					MDTextField:
						id: input_receive_pos_b
						hint_text: "Input Receive Pos B-axis (mm)"
						bold: True
						font_size: 22
						input_filter: 'float'
						on_text_validate: root.update()					

					Label:
						text: "Production Quantity"
						bold: True
						font_size: 22
						color: 0, 0, 0						

					MDTextField:
						id: input_receive_pos_b
						hint_text: "Input Production Quantity"
						bold: True
						font_size: 22
						input_filter: 'float'
						on_text_validate: root.update()		

				GridLayout:
					cols:2
					row_force_default: True
					row_default_height: 40
					padding:40
					spacing:40
					size_hint_x: 0.4

					Label:
						text: "Pressure Die Semi Clamp Time"
						bold: True
						font_size: 22
						color: 0, 0, 0

					MDTextField:
						id: input_advanced_press_semiclamp_time
						hint_text: "Input Pressure Die Semi Clamp Time (sec)"
						bold: True
						font_size: 22
						input_filter: 'float'
						on_text_validate: root.update()

					Label:
						text: "Pressure Die Semi Open Time"
						bold: True
						font_size: 22
						color: 0, 0, 0

					MDTextField:
						id: input_advanced_press_semiopen_time
						hint_text: "Input Pressure Die Semi Open Time (sec)"
						bold: True
						font_size: 22
						input_filter: 'float'
						on_text_validate: root.update()

					Label:
						text: "Clamp Die Semi Clamp Time"
						bold: True
						font_size: 22
						color: 0, 0, 0

					MDTextField:
						id: input_advanced_clamp_semiclamp_time
						hint_text: "Input Clamp Die Semi Clamp Time (sec)"
						bold: True
						font_size: 22
						input_filter: 'float'
						on_text_validate: root.update()

					Label:
						text: "Spring Back Angle (20)"
						bold: True
						font_size: 22
						color: 0, 0, 0

					MDTextField:
						id: input_advanced_springback_20
						hint_text: "Input Spring Back Angle 20 (degree)"
						bold: True
						font_size: 22
						input_filter: 'float'
						on_text_validate: root.update()

					Label:
						text: "Spring Back Angle (120)"
						bold: True
						font_size: 22
						color: 0, 0, 0

					MDTextField:
						id: input_advanced_springback_120
						hint_text: "Input Spring Back Angle 120 (degree)"
						bold: True
						font_size: 22
						input_filter: 'float'
						on_text_validate: root.update()

					Label:
						text: "Max Bending Angle"
						bold: True
						font_size: 22
						color: 0, 0, 0

					MDTextField:
						id: input_advanced_max_bend
						hint_text: "Input Max Bending Angle (degree)"
						bold: True
						font_size: 22
						input_filter: 'float'
						on_text_validate: root.update()	

					Label:
						text: "Pressure Die Start Angle"
						bold: True
						font_size: 22
						color: 0, 0, 0

					MDTextField:
						id: input_advanced_press_start_angle
						hint_text: "Input Pressure Die Start Angle (degree)"
						bold: True
						font_size: 22
						input_filter: 'float'
						on_text_validate: root.update()	

					Label:
						text: "Pressure Die Stop Angle"
						bold: True
						font_size: 22
						color: 0, 0, 0

					MDTextField:
						id: input_advanced_press_stop_angle
						hint_text: "Input Pressure Die Stop Angle (degree)"
						bold: True
						font_size: 22
						input_filter: 'float'
						on_text_validate: root.update()	

		# MDRectangleFlatIconButton: navigation layout
		BoxLayout:
			orientation: "horizontal"
			size_hint_y: 0.04
			padding:10
			spacing:10

			MDFillRoundFlatIconButton:
				id: bt_screen_pipe_setting
				icon: "cogs"
				text: "PIPE SETTING"
				font_size: 28
				size_hint_x: 0.25
				on_press: root.screen_pipe_setting()
			
			MDFillRoundFlatIconButton:
				id: bt_screen_machine_setting
				icon: "cogs"
				text: "MACHINE SETTING"
				font_size: 28
				size_hint_x: 0.25
				on_press: root.screen_machine_setting()

			MDFillRoundFlatIconButton:
				id: bt_screen_advanced_setting
				icon: "cogs"
				text: "ADVANCED SETTING"
				font_size: 28
				size_hint_x: 0.25
				on_press: root.screen_advanced_setting()

			MDFillRoundFlatIconButton:
				id: bt_screen_operate
				icon: "human"
				text: "OPERATION MODE"
				font_size: 28
				size_hint_x: 0.25
				on_press: root.screen_operate_auto()

			MDFillRoundFlatIconButton:
				id: bt_screen_compile
				icon: "file"
				text: "COMPILE FILE"
				font_size: 28
				size_hint_x: 0.25
				on_press: root.screen_compile()